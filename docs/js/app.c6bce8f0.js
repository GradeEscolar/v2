(function(){"use strict";var e={892:function(e,t,i){var n=i(9963),r=i(6252),a={class:"main_section"},o={key:0},u={key:1},s={key:2},l={key:3},c={key:4},d={key:5},f={key:6},b={key:7},h={key:8},p=(0,r._)("footer",null,[(0,r._)("p",null," Grade Escolar 2023 - v 1.1 ")],-1);function v(e,t,i,n,v,g){var m=(0,r.up)("HeaderComponent"),w=(0,r.up)("HomeView"),y=(0,r.up)("LoginView"),P=(0,r.up)("CadastroView"),_=(0,r.up)("MenuView"),k=(0,r.up)("AulaView"),O=(0,r.up)("AnotacoesView"),j=(0,r.up)("DisciplinaConfigView"),T=(0,r.up)("GradeConfigView"),D=(0,r.up)("AulaConfigView");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("header",null,[(0,r.Wm)(m,{onGoToPage:e.goToPage,page:e.page,"hide-back-button":e.hideBackButton},null,8,["onGoToPage","page","hide-back-button"])]),(0,r._)("main",null,[(0,r._)("section",a,["Home"==e.page?((0,r.wg)(),(0,r.iD)("div",o,[(0,r.Wm)(w,{onGoToPage:e.goToPage},null,8,["onGoToPage"])])):(0,r.kq)("",!0),"Login"==e.page?((0,r.wg)(),(0,r.iD)("div",u,[(0,r.Wm)(y,{onGoToPage:e.goToPage},null,8,["onGoToPage"])])):(0,r.kq)("",!0),"Cadastro"==e.page?((0,r.wg)(),(0,r.iD)("div",s,[(0,r.Wm)(P,{onGoToPage:e.goToPage},null,8,["onGoToPage"])])):(0,r.kq)("",!0),"Menu"==e.page?((0,r.wg)(),(0,r.iD)("div",l,[(0,r.Wm)(_,{onGoToPage:e.goToPage},null,8,["onGoToPage"])])):(0,r.kq)("",!0),"Aula"==e.page?((0,r.wg)(),(0,r.iD)("div",c,[(0,r.Wm)(k,{onGoToPage:e.goToPage,onHideBackButton:e.definirHideBackButton},null,8,["onGoToPage","onHideBackButton"])])):(0,r.kq)("",!0),"Anotacoes"==e.page?((0,r.wg)(),(0,r.iD)("div",d,[(0,r.Wm)(O,{onGoToPage:e.goToPage},null,8,["onGoToPage"])])):(0,r.kq)("",!0),"DisciplinaConfig"==e.page?((0,r.wg)(),(0,r.iD)("div",f,[(0,r.Wm)(j,{onGoToPage:e.goToPage},null,8,["onGoToPage"])])):(0,r.kq)("",!0),"GradeConfig"==e.page?((0,r.wg)(),(0,r.iD)("div",b,[(0,r.Wm)(T,{onGoToPage:e.goToPage},null,8,["onGoToPage"])])):(0,r.kq)("",!0),"AulaConfig"==e.page?((0,r.wg)(),(0,r.iD)("div",h,[(0,r.Wm)(D)])):(0,r.kq)("",!0)])]),p],64)}var g=i(3577),m=function(e){return(0,r.dD)("data-v-6bc745b0"),e=e(),(0,r.Cn)(),e},w={id:"header"},y=m((function(){return(0,r._)("i",{class:"no-print pi pi-chevron-left"},null,-1)})),P=[y],_={id:"icon"},k={id:"title"},O=m((function(){return(0,r._)("i",{class:"pi pi-sign-in"},null,-1)})),j=m((function(){return(0,r._)("span",null,"Entrar",-1)})),T=[O,j],D=m((function(){return(0,r._)("i",{class:"pi pi-sign-out"},null,-1)})),S=m((function(){return(0,r._)("span",null,"Sair",-1)})),C=[D,S];function x(e,t,i,n,a,o){return(0,r.wg)(),(0,r.iD)("div",w,[(0,r._)("div",{id:"back",style:(0,g.j5)({visibility:e.back?"visible":"hidden"}),onClick:t[0]||(t[0]=function(t){return e.goToPage(e.backTo)})},P,4),(0,r._)("div",_,[(0,r._)("i",{class:(0,g.C_)(e.icon)},null,2)]),(0,r._)("div",k,(0,g.zw)(e.title),1),e.login?((0,r.wg)(),(0,r.iD)("div",{key:0,id:"login",onClick:t[1]||(t[1]=function(t){return e.goToPage("Login")})},T)):(0,r.kq)("",!0),e.sair?((0,r.wg)(),(0,r.iD)("div",{key:1,id:"sair",onClick:t[2]||(t[2]=function(t){return e.doSair()})},C)):(0,r.kq)("",!0)])}var G=(0,r.aZ)({name:"HeaderComponent",data:function(){return{back:!1,backTo:"",icon:"",title:"",login:!1,sair:!1}},props:{page:String,hideBackButton:Boolean},emits:["goToPage"],methods:{goToPage:function(e){this.$emit("goToPage",e)},doSair:function(){localStorage.removeItem("access_token"),this.goToPage("Home")},definirHeader:function(){var e=localStorage.getItem("page");"Home"==e?(this.back=!1,this.backTo="",this.icon="pi pi-table",this.title="Grade Escolar",this.login=!0,this.sair=!1):"Login"==e?(this.back=!0,this.backTo="Home",this.icon="pi pi-sign-in",this.title="Entrar",this.login=!1,this.sair=!1):"Cadastro"==e?(this.back=!0,this.backTo="Login",this.icon="pi pi-id-card",this.title="Cadastro",this.login=!1,this.sair=!1):"Menu"==e?(this.back=!1,this.backTo="",this.icon="pi pi-table",this.title="Grade Escolar",this.login=!1,this.sair=!0):"Aula"==e?(this.back=!this.hideBackButton,this.backTo="Menu",this.icon="pi pi-file-edit",this.title="Aulas",this.login=!1,this.sair=!1):"Anotacoes"==e?(this.back=!this.hideBackButton,this.backTo="Menu",this.icon="pi pi-book",this.title="Anotações",this.login=!1,this.sair=!1):"DisciplinaConfig"==e?(this.back=!0,this.backTo="Menu",this.icon="pi pi-cog",this.title="Disciplinas",this.login=!1,this.sair=!1):"GradeConfig"==e?(this.back=!0,this.backTo="Menu",this.icon="pi pi-cog",this.title="Grade",this.login=!1,this.sair=!1):"AulaConfig"==e&&(this.back=!0,this.backTo="Menu",this.icon="pi pi-cog",this.title="Aulas",this.login=!1,this.sair=!1)}},mounted:function(){this.definirHeader()},watch:{page:function(){this.definirHeader()},hideBackButton:function(){this.definirHeader()}}}),A=i(3744);const J=(0,A.Z)(G,[["render",x],["__scopeId","data-v-6bc745b0"]]);var V=J,I=function(e){return(0,r.dD)("data-v-a1b4ee30"),e=e(),(0,r.Cn)(),e},q=I((function(){return(0,r._)("i",{class:"pi pi-table"},null,-1)})),H=I((function(){return(0,r._)("p",null," Olá! ",-1)})),U=I((function(){return(0,r._)("p",null," Aqui você pode montar sua grade escolar personalizada e também incluir anotações nas aulas. ",-1)})),Z=I((function(){return(0,r._)("p",null," Entre para começar ",-1)})),M=[q,H,U,Z];function B(e,t,i,n,a,o){return(0,r.wg)(),(0,r.iD)("div",null,M)}var z=(0,r.aZ)({name:"HomeView",components:{},data:function(){return{}},emits:["goToPage"],methods:{goToPage:function(e){this.$emit("goToPage",e)}}});const E=(0,A.Z)(z,[["render",B],["__scopeId","data-v-a1b4ee30"]]);var L=E,R=function(e){return(0,r.dD)("data-v-bc84cd6e"),e=e(),(0,r.Cn)(),e},N={class:"form"},$={class:"field"},Y=R((function(){return(0,r._)("label",{for:"email"},"E-Mail",-1)})),W={class:"field"},K=R((function(){return(0,r._)("label",{for:"email"},"Senha",-1)})),F={class:"button"},Q=["disabled"],X={key:0,class:"error"},ee=R((function(){return(0,r._)("br",null,null,-1)})),te=R((function(){return(0,r._)("i",{class:"pi pi-id-card"},null,-1)})),ie=R((function(){return(0,r._)("br",null,null,-1)})),ne=R((function(){return(0,r._)("i",{class:"pi pi-arrow-circle-down"},null,-1)}));function re(e,t,i,a,o,u){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("section",N,[(0,r._)("form",{onSubmit:t[2]||(t[2]=(0,n.iM)((function(t){return e.signIn()}),["prevent"]))},[(0,r._)("div",$,[Y,(0,r.wy)((0,r._)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.usuario.email=t}),autocomplete:"email"},null,512),[[n.nr,e.usuario.email]])]),(0,r._)("div",W,[K,(0,r.wy)((0,r._)("input",{type:"password",id:"senha","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.usuario.senha=t}),autocomplete:"current-password"},null,512),[[n.nr,e.usuario.senha]])]),(0,r._)("div",F,[(0,r._)("button",{type:"submit",disabled:!e.formValido},"Entrar",8,Q),e.result?((0,r.wg)(),(0,r.iD)("mark",X,(0,g.zw)(e.result),1)):(0,r.kq)("",!0)])],32)]),(0,r._)("p",null,[(0,r.Uk)(" se ainda não possui cadastro..."),ee,(0,r._)("div",{onClick:t[3]||(t[3]=function(t){return e.goToPage("Cadastro")})},[te,(0,r.Uk)(" cadastre-se aqui. ")])]),(0,r._)("p",null,[(0,r.Uk)(" se não quer se cadastrar..."),ie,(0,r._)("div",{onClick:t[4]||(t[4]=function(t){return e.acessoLocal()})},[ne,(0,r.Uk)(" acesso local. ")])])],64)}var ae=i(655),oe=function(){function e(){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nome",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"email",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"senha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return e}(),ue=oe,se=function(){function e(e){Object.defineProperty(this,"_axios",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._axios=e}return Object.defineProperty(e.prototype,"source",{get:function(){return e.source},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"config",{enumerable:!1,configurable:!0,writable:!0,value:function(){e.source||(e.source=this._axios)}}),Object.defineProperty(e,"source",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}(),le=se,ce=function(e){function t(t,i){var n=e.call(this,t)||this;return Object.defineProperty(n,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n.url=i,n}return(0,ae.ZT)(t,e),Object.defineProperty(t.prototype,"axios",{get:function(){return this.source},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"acessoLocal",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return new Promise((function(t,i){return(0,ae.mG)(e,void 0,void 0,(function(){var e,n,r,a;return(0,ae.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.axios.get(this.url)];case 1:return e=o.sent(),t(e.data),[3,3];case 2:return n=o.sent(),console.log(n),i(null===(a=null===(r=null===n||void 0===n?void 0:n.request)||void 0===r?void 0:r.data)||void 0===a?void 0:a.message),[3,3];case 3:return[2]}}))}))}))}}),Object.defineProperty(t.prototype,"post",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return new Promise((function(i,n){return(0,ae.mG)(t,void 0,void 0,(function(){var t,r,a,o;return(0,ae.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.axios.post(this.url,e)];case 1:return t=u.sent(),i(t.data),[3,3];case 2:return r=u.sent(),console.log(r),n(null===(o=null===(a=null===r||void 0===r?void 0:r.request)||void 0===a?void 0:a.data)||void 0===o?void 0:o.message),[3,3];case 3:return[2]}}))}))}))}}),Object.defineProperty(t.prototype,"put",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return new Promise((function(i,n){return(0,ae.mG)(t,void 0,void 0,(function(){var t,r,a;return(0,ae.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.axios.put(this.url,e)];case 1:return o.sent(),i(),[3,3];case 2:return t=o.sent(),console.log(t),n(null===(a=null===(r=null===t||void 0===t?void 0:t.request)||void 0===r?void 0:r.data)||void 0===a?void 0:a.message),[3,3];case 3:return[2]}}))}))}))}}),Object.defineProperty(t.prototype,"patch",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return new Promise((function(i,n){return(0,ae.mG)(t,void 0,void 0,(function(){var t,r,a;return(0,ae.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.axios.patch(this.url,e)];case 1:return o.sent(),i(),[3,3];case 2:return t=o.sent(),console.log(t),n(null===(a=null===(r=null===t||void 0===t?void 0:t.request)||void 0===r?void 0:r.data)||void 0===a?void 0:a.message),[3,3];case 3:return[2]}}))}))}))}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return new Promise((function(i,n){return(0,ae.mG)(t,void 0,void 0,(function(){var t,r,a;return(0,ae.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.axios.delete("".concat(this.url,"/").concat(e.id))];case 1:return o.sent(),i(),[3,3];case 2:return t=o.sent(),console.log(t),n(null===(a=null===(r=null===t||void 0===t?void 0:t.request)||void 0===r?void 0:r.data)||void 0===a?void 0:a.message),[3,3];case 3:return[2]}}))}))}))}}),t}(le),de=ce,fe=function(){function e(){}var t;return t=e,Object.defineProperty(e,"api",{enumerable:!0,configurable:!0,writable:!0,value:"https://gersonmsj2.pythonanywhere.com/"}),Object.defineProperty(e,"loginUrl",{enumerable:!0,configurable:!0,writable:!0,value:t.api+"login"}),Object.defineProperty(e,"usuarioUrl",{enumerable:!0,configurable:!0,writable:!0,value:t.api+"usuario"}),Object.defineProperty(e,"gradeUrl",{enumerable:!0,configurable:!0,writable:!0,value:t.api+"grade"}),Object.defineProperty(e,"disciplinaUrl",{enumerable:!0,configurable:!0,writable:!0,value:t.api+"disciplina"}),Object.defineProperty(e,"anotacaoUrl",{enumerable:!0,configurable:!0,writable:!0,value:t.api+"anotacao"}),Object.defineProperty(e,"aulaUrl",{enumerable:!0,configurable:!0,writable:!0,value:t.api+"aula"}),Object.defineProperty(e,"db",{enumerable:!0,configurable:!0,writable:!0,value:"GradeEscolar"}),Object.defineProperty(e,"gradeTable",{enumerable:!0,configurable:!0,writable:!0,value:"grade"}),Object.defineProperty(e,"disciplinaTable",{enumerable:!0,configurable:!0,writable:!0,value:"disciplinas"}),Object.defineProperty(e,"anotacaoTable",{enumerable:!0,configurable:!0,writable:!0,value:"anotacoes"}),Object.defineProperty(e,"aulaTable",{enumerable:!0,configurable:!0,writable:!0,value:"aulas"}),e}(),be=fe,he=function(e){function t(t){return e.call(this,t,be.loginUrl)||this}return(0,ae.ZT)(t,e),Object.defineProperty(t.prototype,"login",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return new Promise((function(i,n){return(0,ae.mG)(t,void 0,void 0,(function(){var t,r,a,o;return(0,ae.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.axios.post(this.url,e)];case 1:return t=u.sent(),i(t.data),[3,3];case 2:return r=u.sent(),console.log(r),n(null===(o=null===(a=null===r||void 0===r?void 0:r.request)||void 0===a?void 0:a.data)||void 0===o?void 0:o.message),[3,3];case 3:return[2]}}))}))}))}}),t}(de),pe=he,ve=function(){function e(e){Object.defineProperty(this,"repository",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.repository=new pe(e),this.repository.config()}return Object.defineProperty(e.prototype,"login",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,ae.mG)(this,void 0,Promise,(function(){var t;return(0,ae.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.repository.login(e)];case 1:return t=i.sent(),[2,t.access_token]}}))}))}}),e}(),ge=ve,me=(0,r.aZ)({name:"LoginView",data:function(){return{service:new ge(this.axios),result:void 0,usuario:new ue,emailPattern:/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,senhaPattern:/.{4,}/}},computed:{formValido:function(){if(!this.usuario.email||!this.usuario.senha)return!1;var e=this.emailPattern.test(this.usuario.email),t=this.senhaPattern.test(this.usuario.senha);return e&&t}},emits:["goToPage"],methods:{goToPage:function(e){this.$emit("goToPage",e)},signIn:function(){return(0,ae.mG)(this,void 0,void 0,(function(){var e,t;return(0,ae.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),this.result=void 0,[4,this.service.login(this.usuario)];case 1:return e=i.sent(),this.usuario=new ue,localStorage.setItem("access_token",e),this.goToPage("Menu"),[3,3];case 2:return t=i.sent(),this.result=null!==t&&void 0!==t?t:"Houve uma falha no servidor.",[3,3];case 3:return[2]}}))}))},acessoLocal:function(){localStorage.setItem("access_token","local_access"),this.goToPage("Menu")}}});const we=(0,A.Z)(me,[["render",re],["__scopeId","data-v-bc84cd6e"]]);var ye=we,Pe={class:"form"},_e={class:"field"},ke=(0,r._)("label",{for:"nome"},"Nome",-1),Oe={class:"field"},je=(0,r._)("label",{for:"email"},"E-Mail",-1),Te={class:"field"},De=(0,r._)("label",{for:"email"},"Senha",-1),Se={class:"button"},Ce=["disabled"],xe={key:0};function Ge(e,t,i,a,o,u){return(0,r.wg)(),(0,r.iD)("section",Pe,[(0,r._)("form",{onSubmit:t[3]||(t[3]=(0,n.iM)((function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.cadastrarUsuario&&e.cadastrarUsuario.apply(e,t)}),["prevent"]))},[(0,r._)("div",_e,[ke,(0,r.wy)((0,r._)("input",{type:"text",id:"nome","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.usuario.nome=t})},null,512),[[n.nr,e.usuario.nome]])]),(0,r._)("div",Oe,[je,(0,r.wy)((0,r._)("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.usuario.email=t}),autocomplete:"email"},null,512),[[n.nr,e.usuario.email]])]),(0,r._)("div",Te,[De,(0,r.wy)((0,r._)("input",{type:"password",id:"senha","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.usuario.senha=t}),autocomplete:"new-password"},null,512),[[n.nr,e.usuario.senha]])]),(0,r._)("div",Se,[(0,r._)("button",{type:"submit",disabled:!e.formValido},"Cadastrar",8,Ce),e.submitResult?((0,r.wg)(),(0,r.iD)("mark",xe,(0,g.zw)(e.submitResult),1)):(0,r.kq)("",!0)])],32)])}var Ae=function(e){function t(t){return e.call(this,t,be.usuarioUrl)||this}return(0,ae.ZT)(t,e),Object.defineProperty(t.prototype,"cadastrar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.put(e)}}),t}(de),Je=Ae,Ve=function(){function e(e){Object.defineProperty(this,"repository",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.repository=new Je(e),this.repository.config()}return Object.defineProperty(e.prototype,"cadastrar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.repository.cadastrar(e)}}),e}(),Ie=Ve,qe=(0,r.aZ)({name:"CadastroView",data:function(){return{service:new Ie(this.axios),usuario:new ue,submitResult:void 0,nomePattern:/.{4,}/,emailPattern:/[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$/,senhaPattern:/.{4,}/}},computed:{formValido:function(){if(!this.usuario.email||!this.usuario.senha||!this.usuario.nome)return!1;var e=this.nomePattern.test(this.usuario.nome),t=this.emailPattern.test(this.usuario.email),i=this.senhaPattern.test(this.usuario.senha);return e&&t&&i}},emits:["goToPage"],methods:{goToPage:function(e){this.$emit("goToPage",e)},cadastrarUsuario:function(){return(0,ae.mG)(this,void 0,void 0,(function(){var e;return(0,ae.Jh)(this,(function(t){switch(t.label){case 0:this.submitResult=void 0,this.usuario.id=void 0,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.service.cadastrar(this.usuario)];case 2:return t.sent(),this.usuario=new ue,this.submitResult="Ok!",[3,4];case 3:return e=t.sent(),this.submitResult=null!==e&&void 0!==e?e:"Falha ao cadastrar usuário!",[3,4];case 4:return[2]}}))}))}}});const He=(0,A.Z)(qe,[["render",Ge]]);var Ue=He,Ze=function(e){return(0,r.dD)("data-v-65570a0c"),e=e(),(0,r.Cn)(),e},Me={class:"menu"},Be=Ze((function(){return(0,r._)("i",{class:"pi pi-file-edit"},null,-1)})),ze=Ze((function(){return(0,r._)("span",null,[(0,r._)("h1",null,"Aulas"),(0,r._)("p",null,[(0,r.Uk)(" Acesse sua grade escolar."),(0,r._)("br"),(0,r.Uk)(" Anote seus conhecimentos. ")])],-1)})),Ee=[Be,ze],Le=Ze((function(){return(0,r._)("i",{class:"pi pi-book"},null,-1)})),Re=Ze((function(){return(0,r._)("span",null,[(0,r._)("h1",null,"Anotações"),(0,r._)("p",null,[(0,r.Uk)(" Revise todos os seus conhecimentos."),(0,r._)("br")])],-1)})),Ne=[Le,Re],$e={class:"config"},Ye=Ze((function(){return(0,r._)("i",{class:"pi pi-cog"},null,-1)})),We=Ze((function(){return(0,r._)("h1",null,"Configurações",-1)})),Ke=Ze((function(){return(0,r._)("p",null," Personalize sua grade escolar. ",-1)})),Fe={class:"submenu"};function Qe(e,t,i,n,a,o){return(0,r.wg)(),(0,r.iD)("section",null,[(0,r._)("div",Me,[(0,r._)("span",{class:"lnk",onClick:t[0]||(t[0]=function(t){return e.goToPage("Aula")})},Ee),(0,r._)("span",{class:"lnk",onClick:t[1]||(t[1]=function(t){return e.goToPage("Anotacoes")})},Ne),(0,r._)("span",$e,[Ye,(0,r._)("span",null,[We,Ke,(0,r._)("div",Fe,[(0,r._)("span",{onClick:t[2]||(t[2]=function(t){return e.goToPage("DisciplinaConfig")})}," Disciplinas "),(0,r.Uk)(" | "),(0,r._)("span",{onClick:t[3]||(t[3]=function(t){return e.goToPage("GradeConfig")})}," Grade "),(0,r.Uk)(" | "),(0,r._)("span",{onClick:t[4]||(t[4]=function(t){return e.goToPage("AulaConfig")})}," Aulas ")])])])])])}var Xe=function(){function e(){}return Object.defineProperty(e,"localAccess",{get:function(){var e=localStorage.getItem("access_token");return"local_access"==e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"autenticado",{get:function(){var e=localStorage.getItem("access_token");return"local_access"==e||null!=e&&!this.tokenExpirado(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e,"tokenExpirado",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.split(".")[1],i=JSON.parse(atob(t));if(null===i||void 0===i?void 0:i.exp){var n=new Date(1e3*i.exp),r=new Date;return n<r}return!1}}),e}(),et=Xe,tt=(0,r.aZ)({name:"MenuView",data:function(){return{}},emits:["goToPage"],methods:{goToPage:function(e){this.$emit("goToPage",e)}},mounted:function(){et.autenticado||this.goToPage("Home")}});const it=(0,A.Z)(tt,[["render",Qe],["__scopeId","data-v-65570a0c"]]);var nt=it,rt={class:"form"},at={class:"field"},ot=(0,r._)("label",{for:"data"},"Data",-1),ut={key:0},st={class:"table"},lt={key:0},ct=(0,r._)("caption",null,null,-1),dt=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{class:"center",style:{width:"100px"}},"Aula"),(0,r._)("th",null,"Disciplina")])],-1),ft=["onClick"],bt={class:"center"},ht={key:1,class:"mark"},pt=(0,r._)("mark",{class:"info"},"Não existem aulas para a data selecionada.",-1),vt=[pt];function gt(e,t,i,a,o,u){var s,l=(0,r.up)("AnotacaoComponent");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("section",rt,[(0,r._)("form",null,[(0,r._)("div",at,[ot,(0,r.wy)((0,r._)("input",{id:"data",type:"date","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.data=t}),onChange:t[1]||(t[1]=function(t){return e.selecionarData()}),required:"",ref:"data"},null,544),[[n.nr,e.data]])])])]),e.data?((0,r.wg)(),(0,r.iD)("span",ut,[(0,r._)("section",st,[e.aulas?((0,r.wg)(),(0,r.iD)("table",lt,[ct,dt,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.aulas,(function(t){return(0,r.wg)(),(0,r.iD)("tr",{class:(0,g.C_)(["hover",{selecionada:e.aulaAtiva(t.aula)}]),onClick:function(i){return e.setAula(t)}},[(0,r._)("td",bt,(0,g.zw)(t.aula),1),(0,r._)("td",null,(0,g.zw)(e.obterDisciplina(t.id_disciplina)),1)],10,ft)})),256))])])):(0,r.kq)("",!0),e.aulas?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",ht,vt))]),(0,r.Wm)(l,{onEditando:e.editando,anotacao:e.anotacao,disciplina:e.obterDisciplina(null===(s=e.aula)||void 0===s?void 0:s.id_disciplina),"exibir-titulos":""},null,8,["onEditando","anotacao","disciplina"])])):(0,r.kq)("",!0)],64)}var mt=function(){function e(){Object.defineProperty(this,"dia",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nome",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ativo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dia=2,this.nome="segunda-feira",this.ativo=!0}return Object.defineProperty(e,"dias",{enumerable:!1,configurable:!0,writable:!0,value:function(){return[{dia:2,nome:"segunda-feira",ativo:!1},{dia:3,nome:"terça-feira",ativo:!1},{dia:4,nome:"quarta-feira",ativo:!1},{dia:5,nome:"quinta-feira",ativo:!1},{dia:6,nome:"sexta-feira",ativo:!1},{dia:7,nome:"sábado",ativo:!1},{dia:1,nome:"domingo",ativo:!1}]}}),Object.defineProperty(e,"meses",{enumerable:!1,configurable:!0,writable:!0,value:function(){return["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]}}),Object.defineProperty(e,"montarTodos",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.dias();return t.forEach((function(t){return t.ativo=-1!=e.indexOf(t.dia.toString())})),t}}),Object.defineProperty(e,"montarAtivos",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.dias().filter((function(t){return-1!=e.indexOf(t.dia.toString())}))}}),Object.defineProperty(e,"desmontar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.filter((function(e){return e.ativo})).map((function(e){return e.dia.toString()})).join(";")}}),Object.defineProperty(e,"obterDia",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=new Date("".concat(e,"T00:00:00.000-03:00")),i=t.getDay()+1,n=this.dias();return n.find((function(e){return e.dia==i}))}}),Object.defineProperty(e,"dataAtual",{enumerable:!1,configurable:!0,writable:!0,value:function(){return new Date(Date.now()-108e5)}}),Object.defineProperty(e,"mesAtual",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.dataAtual();return e.toISOString().substring(0,7)}}),Object.defineProperty(e,"dataCompleta",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return"".concat(this.dias().find((function(t){return t.dia==e.getDay()+1})).nome,", ").concat(e.getDate()," de ").concat(this.meses()[e.getMonth()]," de ").concat(e.getFullYear())}}),e}(),wt=mt,yt=function(e){return(0,r.dD)("data-v-1aadd55e"),e=e(),(0,r.Cn)(),e},Pt={key:0,class:"titulo"},_t={class:"buttons"},kt={class:"disciplina"},Ot=yt((function(){return(0,r._)("p",{class:"no-print"},"Editar",-1)})),jt=[Ot],Tt={class:"no-print"},Dt={key:2},St=yt((function(){return(0,r._)("p",{class:"no-print"},"Salvar",-1)})),Ct=[St],xt={key:4},Gt=yt((function(){return(0,r._)("p",{class:"no-print"},"Cancelar",-1)})),At=[Gt],Jt={key:1,class:"conteudo_edit"},Vt={key:0,class:"mk"},It=yt((function(){return(0,r._)("br",null,null,-1)})),qt=yt((function(){return(0,r._)("br",null,null,-1)})),Ht=(0,r.uE)("<br data-v-1aadd55e><br data-v-1aadd55e><h3 data-v-1aadd55e>### Eventos (provas, entrega de trabalhos, etc...)</h3><h1 data-v-1aadd55e># Título</h1><h2 data-v-1aadd55e>## Subtítulo</h2><p data-v-1aadd55e>Texto em **<strong data-v-1aadd55e>Negrito</strong>**, *<em data-v-1aadd55e>Itálico</em>*, ~~<s data-v-1aadd55e>Tachado</s>~~.</p><blockquote data-v-1aadd55e><p data-v-1aadd55e>&gt; Citação</p></blockquote><ul data-v-1aadd55e><li data-v-1aadd55e>- Lista</li><li data-v-1aadd55e>- Lista</li></ul><p data-v-1aadd55e>--- Linha divisória</p><hr data-v-1aadd55e><br data-v-1aadd55e><br data-v-1aadd55e><br data-v-1aadd55e><br data-v-1aadd55e><br data-v-1aadd55e>",15),Ut=["innerHTML"];function Zt(e,t,i,a,o,u){return e.anotacao?((0,r.wg)(),(0,r.iD)("section",{key:0,class:(0,g.C_)(["container",{edit:e.edit}])},[(0,r._)("div",{class:(0,g.C_)(["subcontainer",{edit:e.edit}])},[e.exibirTitulos?((0,r.wg)(),(0,r.iD)("div",Pt,[(0,r._)("span",null,[(0,r._)("p",null,(0,g.zw)(e.dataCompleta),1)]),(0,r._)("span",_t,[(0,r._)("span",null,[(0,r._)("p",null,[(0,r._)("span",null,(0,g.zw)(e.anotacao.aula)+"ª aula - ",1),(0,r._)("span",kt,(0,g.zw)(e.disciplina),1)])]),e.edit?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("span",{key:0,class:"lnk",onClick:t[0]||(t[0]=function(t){return e.definirEdit(!0)})},jt)),e.edit?((0,r.wg)(),(0,r.iD)("span",{key:1,class:"lnk",onClick:t[1]||(t[1]=function(t){return e.alternarPreview()})},[(0,r._)("p",Tt,(0,g.zw)(e.preview?"Editar":"Visualizar"),1)])):(0,r.kq)("",!0),e.edit?((0,r.wg)(),(0,r.iD)("span",Dt,"|")):(0,r.kq)("",!0),e.edit?((0,r.wg)(),(0,r.iD)("span",{key:3,class:"lnk",onClick:t[2]||(t[2]=function(t){return e.salvar()})},Ct)):(0,r.kq)("",!0),e.edit?((0,r.wg)(),(0,r.iD)("span",xt,"|")):(0,r.kq)("",!0),e.edit?((0,r.wg)(),(0,r.iD)("span",{key:5,class:"lnk",onClick:t[3]||(t[3]=function(t){return e.definirEdit(!1)})},At)):(0,r.kq)("",!0)])])):(0,r.kq)("",!0),e.edit&&!e.preview?((0,r.wg)(),(0,r.iD)("div",Jt,[(0,r.wy)((0,r._)("textarea",{id:"conteudo","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.conteudo_edit=t}),autofocus:"",ref:"ta"},null,512),[[n.nr,e.conteudo_edit,void 0,{trim:!0}]]),(0,r._)("span",{class:"lnk",onClick:t[5]||(t[5]=function(t){return e.help=!e.help})},"Como formatar esta anotação?"),e.help?((0,r.wg)(),(0,r.iD)("span",Vt,[It,qt,(0,r.Uk)(" Adicione os caracteres especiais #, *, >, ~ e - ao seu texto da forma como é apresentado abaixo: "),Ht])):(0,r.kq)("",!0)])):(0,r.kq)("",!0),!e.edit||e.preview?((0,r.wg)(),(0,r.iD)("div",{key:2,class:(0,g.C_)(["conteudo_view",{borda:e.exibirTitulos,preview:e.preview}])},[(0,r._)("span",{innerHTML:e.conteudo_view,class:(0,g.C_)(["mk",{sem_anotacao:"-- sem anotação --"==e.conteudo_view}])},null,10,Ut)],2)):(0,r.kq)("",!0)],2)],2)):(0,r.kq)("",!0)}var Mt=function(){function e(){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id_disciplina",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"aula",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"anotacao",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modo",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return e}(),Bt=Mt,zt=i(9980),Et=i.n(zt),Lt=function(){function e(){Object.defineProperty(this,"_repository",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tabela",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(e.prototype,"repository",{get:function(){return this._repository},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tabela",{get:function(){return this._tabela},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseConfig",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return(0,ae.mG)(this,void 0,Promise,(function(){var i;return(0,ae.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),i=this,[4,t(e)];case 1:return i._repository=n.sent(),[2,!0];case 2:return n.sent(),[2,!1];case 3:return[2]}}))}))}}),Object.defineProperty(e.prototype,"parseModel",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return JSON.parse(JSON.stringify(e,(function(e,i){return t&&"id"==e?void 0:i})))}}),e}(),Rt=Lt,Nt=function(){function e(){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"id_usuario",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"aulas",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"dias",{enumerable:!0,configurable:!0,writable:!0,value:""})}return e}(),$t=Nt,Yt=function(){function e(){}return Object.defineProperty(e.prototype,"source",{get:function(){return e.source},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"config",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(e.source)return new Promise((function(e){return e()}));var t=window.indexedDB.open(be.db,1);return t.onupgradeneeded=this.upgradeneeded,new Promise((function(i,n){t.onsuccess=function(){return(0,ae.mG)(this,void 0,void 0,(function(){return(0,ae.Jh)(this,(function(t){switch(t.label){case 0:return e.source=this.result,[4,e.iniciarGrade(this.result)];case 1:return t.sent(),i(),[2]}}))}))},t.onerror=function(){var t;e.source=void 0,console.log(this.error),n(null===(t=this.error)||void 0===t?void 0:t.message)}}))}}),Object.defineProperty(e.prototype,"upgradeneeded",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.result,i=[be.gradeTable,be.disciplinaTable,be.anotacaoTable,be.aulaTable];i.forEach((function(i){if(t.objectStoreNames.contains(i)||t.createObjectStore(i,{autoIncrement:!0,keyPath:"id"}),i==be.aulaTable.toString()){var n=e.transaction,r=n.objectStore(i);r.indexNames.contains("dia")||r.createIndex("dia","dia",{unique:!1})}if(i==be.anotacaoTable.toString()){n=e.transaction,r=n.objectStore(i);r.indexNames.contains("grade")||r.createIndex("grade",["aula","id_disciplina","data"],{unique:!0}),r.indexNames.contains("disciplina")||r.createIndex("disciplina",["id_disciplina","data"],{unique:!1})}}))}}),Object.defineProperty(e,"iniciarGrade",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.transaction(be.gradeTable,"readwrite"),i=t.objectStore(be.gradeTable),n=i.count();return new Promise((function(e,t){n.onsuccess=function(n){var r=1==n.target.result;if(r)e();else{var a=new $t;a.dias="2;3;4;5;6",a.aulas=5;var o=JSON.parse(JSON.stringify(a,(function(e,t){return"id"==e?void 0:t}))),u=i.add(o);u.onsuccess=function(){e()},u.onerror=function(){t(this.error)}}},n.onerror=function(){t(this.error)}}))}}),Object.defineProperty(e,"source",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}(),Wt=Yt,Kt=function(e){function t(t){var i=e.call(this)||this;return Object.defineProperty(i,"table",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.table=t,i}return(0,ae.ZT)(t,e),Object.defineProperty(t.prototype,"db",{get:function(){return this.source},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"acessoLocal",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.db.transaction(this.table,"readonly"),t=e.objectStore(this.table),i=t.getAll();return new Promise((function(e,t){i.onsuccess=function(){e(this.result)},i.onerror=function(){var e;console.log(this.error),t(null===(e=this.error)||void 0===e?void 0:e.message)}}))}}),Object.defineProperty(t.prototype,"post",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.get()}}),Object.defineProperty(t.prototype,"put",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.db.transaction(this.table,"readwrite"),i=t.objectStore(this.table),n=i.add(this.parseModel(e,!0));return new Promise((function(t,i){n.onsuccess=function(){e.id=this.result,t()},n.onerror=function(){var e;console.log(this.error),i(null===(e=this.error)||void 0===e?void 0:e.message)}}))}}),Object.defineProperty(t.prototype,"patch",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.db.transaction(this.table,"readwrite"),i=t.objectStore(this.table),n=i.put(this.parseModel(e,!1));return new Promise((function(e,t){n.onsuccess=function(){e()},n.onerror=function(){var e;console.log(this.error),t(null===(e=this.error)||void 0===e?void 0:e.message)}}))}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.db.transaction(this.table,"readwrite"),i=t.objectStore(this.table),n=i.delete(e.id);return new Promise((function(e,t){n.onsuccess=function(){e()},n.onerror=function(){var e;console.log(this.error),t(null===(e=this.error)||void 0===e?void 0:e.message)}}))}}),Object.defineProperty(t.prototype,"parseModel",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return JSON.parse(JSON.stringify(e,(function(e,i){return t&&"id"==e?void 0:i})))}}),t}(Wt),Ft=Kt,Qt=function(){function e(){}return Object.defineProperty(e,"CreateRepository",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,ae.mG)(this,void 0,Promise,(function(){var t;return(0,ae.Jh)(this,(function(i){switch(i.label){case 0:return et.localAccess?(t=new ei,[4,t.config()]):[3,2];case 1:return i.sent(),[3,3];case 2:t=new Xt(e),t.config(),i.label=3;case 3:return[2,t]}}))}))}}),e}(),Xt=function(e){function t(t){return e.call(this,t,be.anotacaoUrl)||this}return(0,ae.ZT)(t,e),Object.defineProperty(t.prototype,"obter",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.post(e)}}),Object.defineProperty(t.prototype,"salvar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return new Promise((function(i,n){return(0,ae.mG)(t,void 0,void 0,(function(){var t,r,a,o;return(0,ae.Jh)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.axios.put(this.url,e)];case 1:return t=u.sent(),i(t.data),[3,3];case 2:return r=u.sent(),console.log(r),n(null===(o=null===(a=null===r||void 0===r?void 0:r.request)||void 0===a?void 0:a.data)||void 0===o?void 0:o.message),[3,3];case 3:return[2]}}))}))}))}}),t}(de),ei=function(e){function t(){return e.call(this,be.anotacaoTable)||this}return(0,ae.ZT)(t,e),Object.defineProperty(t.prototype,"obter",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return new Promise((function(i,n){var r=t.db.transaction(t.table,"readonly"),a=r.objectStore(t.table),o=a.index(e.modo),u="grade"==e.modo?o.openCursor(IDBKeyRange.only([e.aula,e.id_disciplina,e.data])):o.openCursor(IDBKeyRange.bound([e.id_disciplina,e.data.substring(0,7)],[e.id_disciplina,e.data.substring(0,7)+"￿"])),s=[];u.onsuccess=function(){var e=this.result;e?(s.push(e.value),e.continue()):i(s)},u.onerror=function(){var e;console.log(this.error),n(null===(e=this.error)||void 0===e?void 0:e.message)}}))}}),Object.defineProperty(t.prototype,"salvar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return new Promise((function(i,n){var r=t.db.transaction(t.table,"readwrite"),a=r.objectStore(t.table),o=void 0,u=void 0;void 0!=e.id?o=void 0!=e.anotacao&&""!=e.anotacao?a.put(t.parseAnotacao(e,!1)):a.delete(e.id):void 0!=e.anotacao&&""!=e.anotacao?u=a.add(t.parseAnotacao(e,!0)):i(e),o&&(o.onsuccess=function(){i(e)},o.onerror=function(){var e;console.log(this.error),n(null===(e=this.error)||void 0===e?void 0:e.message)}),u&&(u.onsuccess=function(){e.id=this.result,i(e)},u.onerror=function(){var e;console.log(this.error),n(null===(e=this.error)||void 0===e?void 0:e.message)})}))}}),Object.defineProperty(t.prototype,"parseAnotacao",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return JSON.parse(JSON.stringify(e,(function(e,i){return t&&"id"==e||"modo"==e?void 0:i})))}}),t}(Ft),ti=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,ae.ZT)(t,e),Object.defineProperty(t.prototype,"config",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,ae.mG)(this,void 0,Promise,(function(){return(0,ae.Jh)(this,(function(t){return[2,this.baseConfig(e,Qt.CreateRepository)]}))}))}}),Object.defineProperty(t.prototype,"obterAnotacao",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return(0,ae.mG)(this,void 0,Promise,(function(){var i,n,r;return(0,ae.Jh)(this,(function(a){switch(a.label){case 0:return i=new Bt,i.aula=e.aula,i.id_disciplina=e.id_disciplina,i.data=t,i.modo="grade",[4,this.repository.obter(i)];case 1:return n=a.sent(),r=n[0],r&&(r.data=t),[2,(null===r||void 0===r?void 0:r.id)?r:i]}}))}))}}),Object.defineProperty(t.prototype,"obterAnotacoes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return(0,ae.mG)(this,void 0,Promise,(function(){var i,n;return(0,ae.Jh)(this,(function(r){switch(r.label){case 0:return i=new Bt,i.id_disciplina=e.id,i.data="".concat(t,"-01"),i.modo="disciplina",[4,this.repository.obter(i)];case 1:return n=r.sent(),[2,n]}}))}))}}),Object.defineProperty(t.prototype,"salvarAnotacao",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,ae.mG)(this,void 0,Promise,(function(){return(0,ae.Jh)(this,(function(t){return[2,this.repository.salvar(e)]}))}))}}),t}(Rt),ii=ti,ni=(0,r.aZ)({name:"AnotacaoComponent",props:{anotacao:Bt,disciplina:String,exibirTitulos:Boolean},data:function(){return{service:new ii,edit:!1,preview:!1,dataCompleta:void 0,conteudo_view:void 0,conteudo_edit:void 0,help:!1,md:new(Et())({xhtmlOut:!0,breaks:!0,linkify:!0})}},emits:["editando"],methods:{definirDataCompleta:function(e){if(null===e||void 0===e?void 0:e.data){var t=new Date(e.data).toISOString().substring(0,10),i=new Date("".concat(t,"T00:00:00.000-03:00"));this.dataCompleta=wt.dataCompleta(i)}},definirConteudo:function(e){(null===e||void 0===e?void 0:e.anotacao)?(this.conteudo_edit=e.anotacao,this.conteudo_view=this.md.render(this.conteudo_edit)):(this.conteudo_edit=void 0,this.conteudo_view="-- sem anotação --")},definirEdit:function(e){this.definirConteudo(this.anotacao),this.edit=e,this.$emit("editando",this.edit),this.preview=!1,this.help=!1},alternarPreview:function(){if(this.preview=!this.preview,this.preview){var e=void 0==this.conteudo_edit||""==this.conteudo_edit?"-- sem anotação --":this.md.render(this.conteudo_edit);this.conteudo_view=e}},salvar:function(){return(0,ae.mG)(this,void 0,void 0,(function(){var e;return(0,ae.Jh)(this,(function(t){switch(t.label){case 0:return this.anotacao.anotacao=this.conteudo_edit,[4,this.service.salvarAnotacao(this.anotacao)];case 1:return e=t.sent(),this.anotacao.id=e.id,this.definirEdit(!1),[2]}}))}))}},mounted:function(){return(0,ae.mG)(this,void 0,void 0,(function(){return(0,ae.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.service.config(this.axios)];case 1:return e.sent(),this.definirDataCompleta(this.anotacao),this.definirConteudo(this.anotacao),[2]}}))}))},watch:{anotacao:function(e){this.definirDataCompleta(e),this.definirConteudo(e)}}});const ri=(0,A.Z)(ni,[["render",Zt],["__scopeId","data-v-1aadd55e"]]);var ai=ri,oi=function(){function e(){}return Object.defineProperty(e,"CreateRepository",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,ae.mG)(this,void 0,Promise,(function(){var t;return(0,ae.Jh)(this,(function(i){switch(i.label){case 0:return et.localAccess?(t=new si,[4,t.config()]):[3,2];case 1:return i.sent(),[3,3];case 2:t=new ui(e),t.config(),i.label=3;case 3:return[2,t]}}))}))}}),e}(),ui=function(e){function t(t){return e.call(this,t,be.aulaUrl)||this}return(0,ae.ZT)(t,e),Object.defineProperty(t.prototype,"obter",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.post(e)}}),Object.defineProperty(t.prototype,"salvar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return new Promise((function(i,n){return(0,ae.mG)(t,void 0,void 0,(function(){var t,r,a;return(0,ae.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.axios.put(this.url,e)];case 1:return o.sent(),i(),[3,3];case 2:return t=o.sent(),console.log(t),n(null===(a=null===(r=null===t||void 0===t?void 0:t.request)||void 0===r?void 0:r.data)||void 0===a?void 0:a.message),[3,3];case 3:return[2]}}))}))}))}}),t}(de),si=function(e){function t(){return e.call(this,be.aulaTable)||this}return(0,ae.ZT)(t,e),Object.defineProperty(t.prototype,"obter",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,ae.mG)(this,void 0,Promise,(function(){var t,i,n,r;return(0,ae.Jh)(this,(function(a){return t=this.db.transaction(this.table,"readonly"),i=t.objectStore(this.table),n=i.index("dia"),r=n.openCursor(IDBKeyRange.only(e.dia)),[2,new Promise((function(e,t){var i=[];r.onsuccess=function(){var t=this.result;t?(i.push(t.value),t.continue()):e(i)},r.onerror=function(){var e;console.log(this.error),t(null===(e=this.error)||void 0===e?void 0:e.message)}}))]}))}))}}),Object.defineProperty(t.prototype,"salvar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;return new Promise((function(i,n){var r=e.filter((function(e){return void 0==e.id&&void 0!=e.id_disciplina})),a=e.filter((function(e){return void 0!=e.id&&void 0!=e.id_disciplina})),o=e.filter((function(e){return void 0!=e.id&&void 0==e.id_disciplina})),u=t.db.transaction(t.table,"readwrite"),s=u.objectStore(t.table);r.forEach((function(e){return s.add(t.parseModel(e,!0))})),a.forEach((function(e){return s.put(t.parseModel(e,!1))})),o.forEach((function(e){return s.delete(e.id)})),u.oncomplete=function(){i()},u.onerror=function(){var e;console.log(this.error),n(null===(e=this.error)||void 0===e?void 0:e.message)}}))}}),t}(Ft),li=function(){function e(){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id_grade",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"id_disciplina",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aula",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"dia",{enumerable:!0,configurable:!0,writable:!0,value:0})}return Object.defineProperty(e,"clone",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var i=new e;return i.id=t.id,i.id_grade=t.id_grade,i.id_disciplina=t.id_disciplina,i.aula=t.aula,i.dia=t.dia,i}}),Object.defineProperty(e,"montar",{enumerable:!1,configurable:!0,writable:!0,value:function(t,i,n){for(var r=new Array,a=function(a){var o=i.find((function(e){return e.aula==a&&e.id_grade==t.id&&e.dia==n}));o||(o={id:void 0,id_grade:t.id,aula:a,dia:n,id_disciplina:void 0}),r.push(e.clone(o))},o=1;o<=t.aulas;o++)a(o);return r}}),e}(),ci=li,di=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,ae.ZT)(t,e),Object.defineProperty(t.prototype,"config",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,ae.mG)(this,void 0,Promise,(function(){return(0,ae.Jh)(this,(function(t){return[2,this.baseConfig(e,oi.CreateRepository)]}))}))}}),Object.defineProperty(t.prototype,"obter",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=new ci;return i.id_grade=e,i.dia=t,this.repository.obter(i)}}),Object.defineProperty(t.prototype,"salvar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.repository.salvar(e)}}),Object.defineProperty(t.prototype,"sort",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.sort((function(e,t){return e.aula-t.aula}))}}),t}(Rt),fi=di,bi=function(){function e(){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id_usuario",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disciplina",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return e}(),hi=bi,pi=function(){function e(){}return Object.defineProperty(e,"CreateRepository",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,ae.mG)(this,void 0,Promise,(function(){var t;return(0,ae.Jh)(this,(function(i){switch(i.label){case 0:return et.localAccess?(t=new gi,[4,t.config()]):[3,2];case 1:return i.sent(),[3,3];case 2:t=new vi(e),t.config(),i.label=3;case 3:return[2,t]}}))}))}}),e}(),vi=function(e){function t(t){return e.call(this,t,be.disciplinaUrl)||this}return(0,ae.ZT)(t,e),Object.defineProperty(t.prototype,"criar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.put(e)}}),Object.defineProperty(t.prototype,"obter",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.get()}}),Object.defineProperty(t.prototype,"atualizar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.patch(e)}}),Object.defineProperty(t.prototype,"excluir",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.delete(e)}}),t}(de),gi=function(e){function t(){return e.call(this,be.disciplinaTable)||this}return(0,ae.ZT)(t,e),Object.defineProperty(t.prototype,"criar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.put(e)}}),Object.defineProperty(t.prototype,"obter",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.get()}}),Object.defineProperty(t.prototype,"atualizar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.patch(e)}}),Object.defineProperty(t.prototype,"excluir",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.delete(e)}}),t}(Ft),mi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,ae.ZT)(t,e),Object.defineProperty(t.prototype,"config",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,ae.mG)(this,void 0,Promise,(function(){return(0,ae.Jh)(this,(function(t){return[2,this.baseConfig(e,pi.CreateRepository)]}))}))}}),Object.defineProperty(t.prototype,"sort",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.sort((function(e,t){return e.disciplina||t.disciplina?e.disciplina?t.disciplina?e.disciplina.localeCompare(t.disciplina):-1:1:0}))}}),Object.defineProperty(t.prototype,"clone",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=new hi;return t.id=e.id,t.id_usuario=e.id_usuario,t.disciplina=e.disciplina,t}}),Object.defineProperty(t.prototype,"criar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.repository.criar(e)}}),Object.defineProperty(t.prototype,"obter",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.repository.obter()}}),Object.defineProperty(t.prototype,"atualizar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.repository.atualizar(e)}}),Object.defineProperty(t.prototype,"excluir",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.repository.excluir(e)}}),t}(Rt),wi=mi,yi=function(){function e(){}return Object.defineProperty(e,"CreateRepository",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,ae.mG)(this,void 0,Promise,(function(){var t;return(0,ae.Jh)(this,(function(i){switch(i.label){case 0:return et.localAccess?(t=new _i,[4,t.config()]):[3,2];case 1:return i.sent(),[3,3];case 2:t=new Pi(e),t.config(),i.label=3;case 3:return[2,t]}}))}))}}),e}(),Pi=function(e){function t(t){return e.call(this,t,be.gradeUrl)||this}return(0,ae.ZT)(t,e),Object.defineProperty(t.prototype,"obter",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.get()}}),Object.defineProperty(t.prototype,"atualizar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.patch(e)}}),t}(de),_i=function(e){function t(){return e.call(this,be.gradeTable)||this}return(0,ae.ZT)(t,e),Object.defineProperty(t.prototype,"obter",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.get()}}),Object.defineProperty(t.prototype,"atualizar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.patch(e)}}),t}(Ft),ki=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,ae.ZT)(t,e),Object.defineProperty(t.prototype,"config",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,ae.mG)(this,void 0,Promise,(function(){return(0,ae.Jh)(this,(function(t){return[2,this.baseConfig(e,yi.CreateRepository)]}))}))}}),Object.defineProperty(t.prototype,"obter",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,ae.mG)(this,void 0,Promise,(function(){var e;return(0,ae.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.repository.obter()];case 1:if(e=t.sent(),1!=e.length)throw new Error("Falha de banco de dados");return[2,e[0]]}}))}))}}),Object.defineProperty(t.prototype,"atualizar",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return(0,ae.mG)(this,void 0,Promise,(function(){return(0,ae.Jh)(this,(function(t){return[2,this.repository.atualizar(e)]}))}))}}),t}(Rt),Oi=ki,ji=(0,r.aZ)({name:"AulaView",components:{AnotacaoComponent:ai},data:function(){return{disciplinaService:new wi,gradeService:new Oi,aulaService:new fi,anotacaoService:new ii,grade:void 0,disciplinas:void 0,disciplina:"",data:void 0,dia:void 0,aulas:void 0,aula:void 0,anotacao:void 0}},emits:["goToPage","hideBackButton"],methods:{goToPage:function(e){this.$emit("goToPage",e)},editando:function(e){return(0,ae.mG)(this,void 0,void 0,(function(){return(0,ae.Jh)(this,(function(t){return this.$emit("hideBackButton",e),[2]}))}))},selecionarData:function(e){return void 0===e&&(e=!1),(0,ae.mG)(this,void 0,void 0,(function(){return(0,ae.Jh)(this,(function(t){switch(t.label){case 0:return this.data?(this.dia=wt.obterDia(this.data),this.dia?[4,this.selecionarAula(e)]:[3,2]):[3,3];case 1:return t.sent(),[3,3];case 2:this.aula=void 0,this.anotacao=void 0,t.label=3;case 3:return[2]}}))}))},selecionarAula:function(e){return void 0===e&&(e=!1),(0,ae.mG)(this,void 0,void 0,(function(){var t,i,n,r,a;return(0,ae.Jh)(this,(function(o){switch(o.label){case 0:return[4,this.aulaService.obter(this.grade.id,this.dia.dia)];case 1:return t=o.sent(),t&&(t=this.aulaService.sort(t)),this.aulas=0==(null===t||void 0===t?void 0:t.length)?void 0:t,this.aulas?(i=0,e&&(n=sessionStorage.getItem("aula_aula"),n&&(r=Number(n),a=this.aulas.findIndex((function(e){return e.aula==r})),a>=0&&(i=a))),[4,this.setAula(this.aulas[i])]):[3,3];case 2:return o.sent(),[3,4];case 3:this.aula=void 0,this.anotacao=void 0,o.label=4;case 4:return this.focus(),[2]}}))}))},setAula:function(e){return(0,ae.mG)(this,void 0,void 0,(function(){var t;return(0,ae.Jh)(this,(function(i){switch(i.label){case 0:return this.aula=e,t=this,[4,this.anotacaoService.obterAnotacao(this.aula,this.data)];case 1:return t.anotacao=i.sent(),[2]}}))}))},obterDisciplina:function(e){var t,i;return null===(i=null===(t=this.disciplinas)||void 0===t?void 0:t.find((function(t){return t.id==e})))||void 0===i?void 0:i.disciplina},salvarAnotacao:function(){return(0,ae.mG)(this,void 0,void 0,(function(){var e;return(0,ae.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.anotacaoService.salvarAnotacao(this.anotacao)];case 1:return t.sent(),e=this,[4,this.anotacaoService.obterAnotacao(this.aula,this.data)];case 2:return e.anotacao=t.sent(),[2]}}))}))},aulaAtiva:function(e){var t;return(null===(t=this.aula)||void 0===t?void 0:t.aula)==e},focus:function(){var e=this.$refs.data;e.focus()},obterDadosIniciais:function(){return(0,ae.mG)(this,void 0,void 0,(function(){var e,t,i,n,r,a,o;return(0,ae.Jh)(this,(function(u){switch(u.label){case 0:return e=this.disciplinaService.obter(),t=this.gradeService.obter(),[4,Promise.all([e,t])];case 1:return i=u.sent(),n=i[0],r=i[1],this.disciplinas=n,this.grade=r,a=sessionStorage.getItem("aula_data"),a?this.data=a:(o=new Date(Date.now()-108e5),this.data=o.toISOString().substring(0,10),sessionStorage.setItem("data",this.data)),[2]}}))}))}},mounted:function(){return(0,ae.mG)(this,void 0,void 0,(function(){var e;return(0,ae.Jh)(this,(function(t){switch(t.label){case 0:return e=!et.autenticado,e?[3,2]:[4,this.aulaService.config(this.axios)];case 1:e=!t.sent(),t.label=2;case 2:return e?(this.goToPage("Home"),[2]):[4,this.gradeService.config(this.axios)];case 3:return t.sent(),[4,this.disciplinaService.config(this.axios)];case 4:return t.sent(),[4,this.anotacaoService.config(this.axios)];case 5:return t.sent(),this.$emit("hideBackButton",!1),[4,this.obterDadosIniciais()];case 6:return t.sent(),[4,this.selecionarData(!0)];case 7:return t.sent(),[2]}}))}))},watch:{data:function(e){sessionStorage.setItem("aula_data",e)},aula:function(e){sessionStorage.setItem("aula_aula",null===e||void 0===e?void 0:e.aula.toString())}}});const Ti=(0,A.Z)(ji,[["render",gt]]);var Di=Ti,Si=function(e){return(0,r.dD)("data-v-72557f15"),e=e(),(0,r.Cn)(),e},Ci={class:"form"},xi={key:0},Gi={class:"field"},Ai=Si((function(){return(0,r._)("label",{for:"disciplinas"},"Disciplina",-1)})),Ji=["value"],Vi={class:"field"},Ii=Si((function(){return(0,r._)("label",{for:"mes"},"Mês",-1)})),qi={key:0,class:"field"},Hi={class:"no-print"},Ui=Si((function(){return(0,r._)("label",{for:"titulos"},"Exibir títulos",-1)})),Zi={key:1,class:"info"},Mi=Si((function(){return(0,r._)("mark",{class:"info"},"Não existem anotações.",-1)})),Bi=[Mi],zi={key:1,class:"info"},Ei=Si((function(){return(0,r._)("mark",{class:"info"},"Não existem disciplinas cadastradas.",-1)})),Li=[Ei];function Ri(e,t,i,a,o,u){var s,l,c=(0,r.up)("AnotacaoComponent");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("section",Ci,[(0,r._)("form",null,[e.disciplinas?((0,r.wg)(),(0,r.iD)("span",xi,[(0,r._)("div",Gi,[Ai,(0,r.wy)((0,r._)("select",{id:"disciplinas","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.disciplina=t}),onChange:t[1]||(t[1]=function(t){return e.obterAnotacoes()})},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.disciplinas,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e},(0,g.zw)(e.disciplina),9,Ji)})),256))],544),[[n.bM,e.disciplina]])]),(0,r._)("div",Vi,[Ii,(0,r.wy)((0,r._)("input",{type:"month",id:"mes","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.mes=t}),onChange:t[3]||(t[3]=function(t){return e.obterAnotacoes()})},null,544),[[n.nr,e.mes]])]),null!==(l=null===(s=e.anotacoes)||void 0===s?void 0:s.length)&&void 0!==l&&l?((0,r.wg)(),(0,r.iD)("div",qi,[(0,r._)("span",Hi,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"titulos",name:"titulos","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.exibirTitulos=t})},null,512),[[n.e8,e.exibirTitulos]]),Ui])])):((0,r.wg)(),(0,r.iD)("div",Zi,Bi))])):((0,r.wg)(),(0,r.iD)("div",zi,Li))])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.anotacoes,(function(t){var i;return(0,r.wg)(),(0,r.iD)("span",null,[(0,r.Wm)(c,{anotacao:t,disciplina:null===(i=e.disciplina)||void 0===i?void 0:i.disciplina,"exibir-titulos":e.exibirTitulos},null,8,["anotacao","disciplina","exibir-titulos"])])})),256))],64)}var Ni=(0,r.aZ)({name:"AnotacoesView",components:{AnotacaoComponent:ai},data:function(){return{anotacaoService:new ii,disciplinaService:new wi,disciplinas:void 0,disciplina:void 0,exibirTitulos:!0,anotacoes:void 0,mes:void 0,md:new(Et())({xhtmlOut:!0,breaks:!0,linkify:!0})}},emits:["goToPage"],methods:{goToPage:function(e){this.$emit("goToPage",e)},obterDisciplinas:function(){return(0,ae.mG)(this,void 0,void 0,(function(){var e;return(0,ae.Jh)(this,(function(t){switch(t.label){case 0:return e=this,[4,this.disciplinaService.obter()];case 1:return e.disciplinas=t.sent(),this.disciplinas&&(this.disciplina=this.disciplinas[0]),[2]}}))}))},obterAnotacoes:function(){return(0,ae.mG)(this,void 0,void 0,(function(){var e;return(0,ae.Jh)(this,(function(t){switch(t.label){case 0:return this.disciplina&&this.mes?(e=this,[4,this.anotacaoService.obterAnotacoes(this.disciplina,this.mes)]):[2];case 1:return e.anotacoes=t.sent(),[2]}}))}))},obterTitulo:function(e){return"Aula ".concat(e.aula," - ").concat(wt.dataCompleta(new Date(e.data)),".")},obterConteudo:function(e){return this.md.render(e.anotacao)},obterDisciplina:function(e){var t,i;return null===(i=null===(t=this.disciplinas)||void 0===t?void 0:t.find((function(t){return t.id==e})))||void 0===i?void 0:i.disciplina}},mounted:function(){return(0,ae.mG)(this,void 0,void 0,(function(){var e,t;return(0,ae.Jh)(this,(function(i){switch(i.label){case 0:return e=!et.autenticado,e?[3,2]:[4,this.anotacaoService.config(this.axios)];case 1:e=!i.sent(),i.label=2;case 2:return e?(this.goToPage("Home"),[2]):[4,this.disciplinaService.config(this.axios)];case 3:return i.sent(),t=localStorage.getItem("exibir_titulos"),t&&(this.exibirTitulos="s"==t),this.mes=wt.mesAtual(),[4,this.obterDisciplinas()];case 4:return i.sent(),[4,this.obterAnotacoes()];case 5:return i.sent(),[2]}}))}))},watch:{exibirTitulos:function(e){localStorage.setItem("exibir_titulos",e?"s":"n")}}});const $i=(0,A.Z)(Ni,[["render",Ri],["__scopeId","data-v-72557f15"]]);var Yi=$i,Wi=function(e){return(0,r.dD)("data-v-7684d110"),e=e(),(0,r.Cn)(),e},Ki={class:"form"},Fi={class:"field"},Qi=Wi((function(){return(0,r._)("label",{for:"disciplina"},"Disciplina",-1)})),Xi={class:"button"},en={key:0},tn=["disabled"],nn={key:1},rn=["disabled"],an=Wi((function(){return(0,r._)("button",{type:"reset",id:"abt"},"Cancelar",-1)})),on={key:2,class:"error"},un={class:"table"},sn=["onClick"];function ln(e,t,i,a,o,u){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("section",Ki,[(0,r._)("form",{onSubmit:t[2]||(t[2]=(0,n.iM)((function(t){return e.submit()}),["prevent"])),onReset:t[3]||(t[3]=(0,n.iM)((function(t){return e.reset()}),["prevent"]))},[(0,r._)("div",Fi,[Qi,(0,r.wy)((0,r._)("input",{type:"text",id:"disciplina","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.disciplina.disciplina=t}),autofocus:"",ref:"disciplinaInput"},null,512),[[n.nr,e.disciplina.disciplina]])]),(0,r._)("div",Xi,[e.disciplinaSelecionada?((0,r.wg)(),(0,r.iD)("span",nn,[(0,r._)("button",{type:"submit",id:"upd",disabled:!e.formValido},"Salvar",8,rn),(0,r._)("button",{type:"button",id:"del",onClick:t[1]||(t[1]=function(t){return e.del()})},"Excluir"),an])):((0,r.wg)(),(0,r.iD)("span",en,[(0,r._)("button",{type:"submit",id:"add",disabled:!e.formValido},"Incluir",8,tn)])),e.result?((0,r.wg)(),(0,r.iD)("mark",on,(0,g.zw)(e.result),1)):(0,r.kq)("",!0)])],32)]),(0,r._)("section",un,[(0,r._)("table",null,[(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.disciplinas,(function(t){return(0,r.wg)(),(0,r.iD)("tr",{class:"hover",onClick:function(i){return e.selecionar(t)}},[(0,r._)("td",{class:(0,g.C_)({selecionada:e.disciplinaAtiva(t)})},(0,g.zw)(t.disciplina),3)],8,sn)})),256))])])])],64)}var cn=(0,r.aZ)({name:"DisciplinaConfigView",data:function(){return{service:new wi,result:void 0,disciplina:new hi,disciplinaSelecionada:void 0,disciplinas:void 0}},computed:{formValido:function(){return!!this.disciplina.disciplina}},emits:["goToPage"],methods:{goToPage:function(e){this.$emit("goToPage",e)},obter:function(){return(0,ae.mG)(this,void 0,void 0,(function(){var e;return(0,ae.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e=this,[4,this.service.obter()];case 1:return e.disciplinas=t.sent(),[3,3];case 2:return t.sent(),this.result="Houve uma falha ao obter as disciplinas.",this.disciplinas=new Array,[3,3];case 3:return this.disciplina=new hi,this.disciplinaSelecionada=void 0,this.result=void 0,this.focus(),[2]}}))}))},focus:function(){var e=this.$refs.disciplinaInput;e.focus()},submit:function(){var e;return(0,ae.mG)(this,void 0,void 0,(function(){var t,i=this;return(0,ae.Jh)(this,(function(n){switch(n.label){case 0:if(void 0!=(null===(e=this.disciplinas)||void 0===e?void 0:e.find((function(e){var t,n;return(null===(t=e.disciplina)||void 0===t?void 0:t.toLowerCase())==(null===(n=i.disciplina.disciplina)||void 0===n?void 0:n.toLowerCase())}))))return this.result="A disciplina informada já existe.",[2];n.label=1;case 1:return n.trys.push([1,7,,8]),this.disciplinaSelecionada?[3,3]:[4,this.service.criar(this.disciplina)];case 2:return n.sent(),[3,5];case 3:return[4,this.service.atualizar(this.disciplina)];case 4:n.sent(),n.label=5;case 5:return[4,this.obter()];case 6:return n.sent(),[3,8];case 7:return t=n.sent(),this.result="Ocorreu um erro ao salvar a disciplina.",console.log(t),[3,8];case 8:return[2]}}))}))},reset:function(){this.disciplina=new hi,this.disciplinaSelecionada=void 0,this.focus()},del:function(){return(0,ae.mG)(this,void 0,void 0,(function(){var e,t;return(0,ae.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.service.excluir(this.disciplina)];case 1:return i.sent(),[4,this.obter()];case 2:return i.sent(),[3,4];case 3:return e=i.sent(),t=e.response.data,this.result=t.message,[3,4];case 4:return[2]}}))}))},selecionar:function(e){this.disciplinaSelecionada=this.service.clone(e),this.disciplina=this.disciplinaSelecionada,this.focus()},disciplinaAtiva:function(e){var t;return(null===(t=this.disciplinaSelecionada)||void 0===t?void 0:t.id)==e.id}},mounted:function(){return(0,ae.mG)(this,void 0,void 0,(function(){var e;return(0,ae.Jh)(this,(function(t){switch(t.label){case 0:return e=!et.autenticado,e?[3,2]:[4,this.service.config(this.axios)];case 1:e=!t.sent(),t.label=2;case 2:return e?(this.goToPage("Home"),[2]):[4,this.obter()];case 3:return t.sent(),[2]}}))}))}});const dn=(0,A.Z)(cn,[["render",ln],["__scopeId","data-v-7684d110"]]);var fn=dn,bn={class:"form"},hn=(0,r._)("label",{class:"checkboxlist"},"Dias de aula",-1),pn={class:"checkboxlist"},vn=["id","value","onUpdate:modelValue","name","disabled","onChange"],gn=["for"],mn={class:"field"},wn=(0,r._)("label",{for:"aulas"},"Aulas por dia",-1),yn=["disabled"],Pn={class:"button"},_n=(0,r._)("button",{type:"submit",id:"submit"},"Salvar",-1),kn=(0,r._)("button",{type:"reset",id:"reset"},"Cancelar",-1),On={key:0};function jn(e,t,i,a,o,u){return(0,r.wg)(),(0,r.iD)("section",bn,[(0,r._)("form",{onSubmit:t[1]||(t[1]=(0,n.iM)((function(t){return e.persistirGrade()}),["prevent"])),onReset:t[2]||(t[2]=(0,n.iM)((function(t){return e.lerGrade()}),["prevent"]))},[hn,(0,r._)("div",pn,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.dias,(function(t){return(0,r.wg)(),(0,r.iD)("span",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:t.nome,value:t.dia,"onUpdate:modelValue":function(e){return t.ativo=e},name:t.nome,disabled:!e.hasData,onChange:function(i){return e.validar(t)}},null,40,vn),[[n.e8,t.ativo]]),(0,r._)("label",{for:t.nome},(0,g.zw)(t.nome),9,gn)])})),256))]),(0,r._)("div",mn,[wn,(0,r.wy)((0,r._)("input",{type:"number",id:"aulas",name:"aulas",min:"1",max:"10",step:"1",required:"","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.aulas=t}),disabled:!e.hasData},null,8,yn),[[n.nr,e.aulas,void 0,{number:!0}]])]),(0,r._)("div",Pn,[_n,kn,e.result?((0,r.wg)(),(0,r.iD)("mark",On,(0,g.zw)(e.result),1)):(0,r.kq)("",!0)])],32)])}var Tn=(0,r.aZ)({name:"GradeConfigView",data:function(){return{service:new Oi,hasData:!1,grade:new $t,aulas:0,dias:wt.dias(),result:void 0}},emits:["goToPage"],methods:{goToPage:function(e){this.$emit("goToPage",e)},lerGrade:function(){this.dias=wt.montarTodos(this.grade.dias),this.aulas=this.grade.aulas},persistirGrade:function(){return(0,ae.mG)(this,void 0,void 0,(function(){return(0,ae.Jh)(this,(function(e){switch(e.label){case 0:return this.grade.dias=wt.desmontar(this.dias),this.grade.aulas=this.aulas,[4,this.service.atualizar(this.grade)];case 1:return e.sent(),this.result="Grade salva!",[2]}}))}))},obterGrade:function(){return(0,ae.mG)(this,void 0,void 0,(function(){var e;return(0,ae.Jh)(this,(function(t){switch(t.label){case 0:return e=this,[4,this.service.obter()];case 1:return e.grade=t.sent(),this.lerGrade(),this.hasData=!0,[2]}}))}))},validar:function(e){void 0==this.dias.find((function(e){return e.ativo}))&&(e.ativo=!0)}},mounted:function(){return(0,ae.mG)(this,void 0,void 0,(function(){var e;return(0,ae.Jh)(this,(function(t){switch(t.label){case 0:return e=!et.autenticado,e?[3,2]:[4,this.service.config(this.axios)];case 1:e=!t.sent(),t.label=2;case 2:return e?(this.goToPage("Home"),[2]):[4,this.obterGrade()];case 3:return t.sent(),[2]}}))}))}});const Dn=(0,A.Z)(Tn,[["render",jn]]);var Sn=Dn,Cn={class:"form"},xn={class:"field"},Gn=["disabled"],An=["value"],Jn={class:"button"},Vn={key:0},In={key:1},qn=(0,r._)("button",{type:"submit"},"Salvar",-1),Hn=(0,r._)("button",{type:"reset"},"Cancelar",-1),Un=[qn,Hn],Zn={class:"table"},Mn=(0,r._)("caption",null,null,-1),Bn=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{class:"center"},"Aula"),(0,r._)("th",{class:"center"},"Disciplina")])],-1),zn={class:"center"},En=["onUpdate:modelValue","disabled"],Ln=(0,r._)("option",{value:void 0},"-- aula vaga --",-1),Rn=["value"];function Nn(e,t,i,a,o,u){var s=(0,r.up)("Label");return(0,r.wg)(),(0,r.iD)("section",Cn,[(0,r._)("form",{onSubmit:t[3]||(t[3]=(0,n.iM)((function(t){return e.salvar()}),["prevent"])),onReset:t[4]||(t[4]=(0,n.iM)((function(t){return e.cancelar()}),["prevent"]))},[(0,r._)("div",xn,[(0,r.Wm)(s,{for:"dia"},{default:(0,r.w5)((function(){return[(0,r.Uk)("Dia")]})),_:1}),(0,r.wy)((0,r._)("select",{id:"dia",name:"dia","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.dia=t}),disabled:e.edicao,onChange:t[1]||(t[1]=function(t){return e.obterDados()})},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.dias,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e.dia},(0,g.zw)(e.nome),9,An)})),256))],40,Gn),[[n.bM,e.dia]])]),(0,r._)("div",Jn,[e.edicao?((0,r.wg)(),(0,r.iD)("span",In,Un)):((0,r.wg)(),(0,r.iD)("span",Vn,[(0,r._)("button",{type:"button",onClick:t[2]||(t[2]=function(t){return e.editar()})},"Editar")]))]),(0,r._)("section",Zn,[(0,r._)("table",null,[Mn,Bn,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.aulas,(function(t){return(0,r.wg)(),(0,r.iD)("tr",null,[(0,r._)("td",zn,(0,g.zw)(t.aula),1),(0,r._)("td",null,[(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":function(e){return t.id_disciplina=e},disabled:!e.edicao},[Ln,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.disciplinas,(function(e){return(0,r.wg)(),(0,r.iD)("option",{value:e.id},(0,g.zw)(e.disciplina),9,Rn)})),256))],8,En),[[n.bM,t.id_disciplina]])])])})),256))])])])],32)])}var $n=(0,r.aZ)({name:"AulaConfigView",data:function(){return{disciplinaService:new wi,gradeService:new Oi,aulaService:new fi,disciplinas:[],grade:new $t,aulasDb:[],aulas:[],dia:void 0,dias:[],edicao:!1}},emits:["goToPage"],methods:{goToPage:function(e){this.$emit("goToPage",e)},editar:function(){this.edicao=!0},salvar:function(){return(0,ae.mG)(this,void 0,void 0,(function(){return(0,ae.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.aulaService.salvar(this.aulas)];case 1:return e.sent(),this.edicao=!1,[2]}}))}))},cancelar:function(){this.ler(),this.edicao=!1},ler:function(){this.dias=wt.montarAtivos(this.grade.dias),this.aulas=ci.montar(this.grade,this.aulasDb,this.dia)},obterDadosIniciais:function(){return(0,ae.mG)(this,void 0,void 0,(function(){var e,t,i,n,r;return(0,ae.Jh)(this,(function(a){switch(a.label){case 0:return e=this.disciplinaService.obter(),t=this.gradeService.obter(),[4,Promise.all([e,t])];case 1:return i=a.sent(),n=i[0],r=i[1],this.disciplinas=n,this.grade=r,[2]}}))}))},obterDados:function(){var e;return(0,ae.mG)(this,void 0,void 0,(function(){var t;return(0,ae.Jh)(this,(function(i){switch(i.label){case 0:return this.dia=null!==(e=this.dia)&&void 0!==e?e:Number(this.grade.dias.substring(0,1)),t=this,[4,this.aulaService.obter(this.grade.id,this.dia)];case 1:return t.aulasDb=i.sent(),this.ler(),[2]}}))}))}},mounted:function(){return(0,ae.mG)(this,void 0,void 0,(function(){var e;return(0,ae.Jh)(this,(function(t){switch(t.label){case 0:return e=!et.autenticado,e?[3,2]:[4,this.aulaService.config(this.axios)];case 1:e=!t.sent(),t.label=2;case 2:return e?(this.goToPage("Home"),[2]):[4,this.gradeService.config(this.axios)];case 3:return t.sent(),[4,this.disciplinaService.config(this.axios)];case 4:return t.sent(),[4,this.obterDadosIniciais()];case 5:return t.sent(),[4,this.obterDados()];case 6:return t.sent(),[2]}}))}))}});const Yn=(0,A.Z)($n,[["render",Nn]]);var Wn=Yn,Kn=(0,r.aZ)({name:"App",components:{HeaderComponent:V,HomeView:L,LoginView:ye,CadastroView:Ue,MenuView:nt,AulaView:Di,AnotacoesView:Yi,DisciplinaConfigView:fn,GradeConfigView:Sn,AulaConfigView:Wn},data:function(){return{page:void 0,hideBackButton:!1}},methods:{goToPage:function(e){this.page=e},definirHideBackButton:function(e){this.hideBackButton=e},sair:function(){localStorage.removeItem("access_token"),this.goToPage("Home")}},mounted:function(){var e=this,t=localStorage.getItem("page");t?this.page=t:(localStorage.setItem("page","Home"),this.page="Home");var i=localStorage.getItem("hide_back_button");i?this.hideBackButton="s"==i:localStorage.setItem("hide_back_button","n"),this.axios.interceptors.request.use((function(e){var t=localStorage.getItem("access_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){Promise.reject(e)})),this.axios.interceptors.response.use((function(e){return e}),(function(t){var i,n,r,a,o;return t.response?422==(null===(n=t.response)||void 0===n?void 0:n.status)||401==(null===(r=t.response)||void 0===r?void 0:r.status)?(localStorage.removeItem("access_token"),e.goToPage("Login"),Promise.reject("Acesso não permitido! 🚫")):Promise.reject(null===(o=null===(a=null===t||void 0===t?void 0:t.response)||void 0===a?void 0:a.data)||void 0===o?void 0:o.message):(e.goToPage("Login"),Promise.reject((null!==(i=null===t||void 0===t?void 0:t.message)&&void 0!==i?i:"Api Inativa!")+" 😩"))}))},watch:{page:function(e){localStorage.setItem("page",e)},hideBackButton:function(e){localStorage.setItem("hide_back_button",e?"s":"n")}}});const Fn=(0,A.Z)(Kn,[["render",v]]);var Qn=Fn,Xn=i(6154),er=i(2346),tr=(0,n.ri)(Qn);tr.use(er.Z,Xn.Z),tr.provide("axios",tr.config.globalProperties.axios),tr.mount("#app")}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n](a,a.exports,i),a.loaded=!0,a.exports}i.m=e,function(){i.amdO={}}(),function(){var e=[];i.O=function(t,n,r,a){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],a=e[c][2];for(var u=!0,s=0;s<n.length;s++)(!1&a||o>=a)&&Object.keys(i.O).every((function(e){return i.O[e](n[s])}))?n.splice(s--,1):(u=!1,a<o&&(o=a));if(u){e.splice(c--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,r,a]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,a,o=n[0],u=n[1],s=n[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(r in u)i.o(u,r)&&(i.m[r]=u[r]);if(s)var c=s(i)}for(t&&t(n);l<o.length;l++)a=o[l],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(c)},n=self["webpackChunkweb"]=self["webpackChunkweb"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(892)}));n=i.O(n)})();
//# sourceMappingURL=app.c6bce8f0.js.map